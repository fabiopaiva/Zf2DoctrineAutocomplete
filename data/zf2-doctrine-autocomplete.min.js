/*
 The MIT License (MIT) | Copyright (c) 2014 Fabio Felipe Paiva <paiva.fabiofelipe@gmail.com> | Copyright (c) 2015 Benjamin Bunse <b.bunse@pso-vertrieb.de>
*/
var zf2DoctrineAutocomplete={init:function(c){$(c).find("input[data-zf2doctrineacinit='zf2-doctrine-autocomplete']").each(function(){var f=$(this).data("zf2doctrineacclass"),d=$(this).data("zf2doctrineacselectwarningmessage"),g=$(this).data("zf2doctrineacproperty"),c=$(this).data("zf2doctrineacallowpersist"),k=$(this).data("zf2doctrineactargetclass"),l=$(this).data("zf2doctrineacsearchfields"),m=$(this).data("zf2doctrineacorderby");if(null!=f){$(this).data("zf2doctrineacinit",null);$(this).data("zf2doctrineacclass",
null);$(this).data("zf2doctrineacproperty",null);$(this).wrap('<div class="wrap-zf2-doctrine-autocomplete"></div>');var a=$(this).clone(!0);$(this).attr("name",$(this).attr("name")+"[id]").attr("type","hidden").addClass("zf2-doctrine-autocomplete-id");a.attr("name",a.attr("name")+"["+g+"]");$(this).data("zf2doctrineacid")&&($(this).val($(this).data("zf2doctrineacid")),$(this).data("zf2doctrineacid",null));$(this).parent().append(a);$(this).parent().append('<p class="zf2-doctrine-autocomplete-msg"></p>');
var e={};$(a).autocomplete({minLength:2,source:function(b,h){var a=b.term;a in e?h(e[a]):(b.select_warning_message=d,b.property=g,b.target_class=k,b.search_fields=l,b.order_by=m,$.getJSON("/zf2-doctrine-autocomplete/"+f,b,function(b,c,d){e[a]=b;h(b)}))},change:function(b,a){null==a.item&&($(this).parent().find(".zf2-doctrine-autocomplete-id").val(""),c||($(this).val(""),$(this).parent().find(".zf2-doctrine-autocomplete-msg").html(d?d:"Select in list").addClass("bg-warning")))},select:function(b,a){$(this).parent().find(".zf2-doctrine-autocomplete-id").val("");
$(this).parent().find(".zf2-doctrine-autocomplete-msg").html("").removeClass("bg-warning");if(null!=a.item.value)return $(this).val(a.item.label),$(this).parent().find(".zf2-doctrine-autocomplete-id").val(a.item.value),!1}});$(a).data("autocomplete")._resizeMenu=function(){this.menu.element.outerWidth(this.element.outerWidth())}}})}};$(document).ready(function(){if(!$.isFunction($.fn.autocomplete))return console.log("Required jQuery UI Autocomplete"),!1;zf2DoctrineAutocomplete.init("body")});
