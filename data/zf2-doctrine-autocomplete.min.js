/*
 The MIT License (MIT) | Copyright (c) 2014 Fabio Felipe Paiva <paiva.fabiofelipe@gmail.com> | Copyright (c) 2015 Benjamin Bunse <b.bunse@pso-vertrieb.de>
*/
var zf2DoctrineAutocomplete={init:function(d){$(d).find("input[data-zf2doctrineacinit='zf2-doctrine-autocomplete']").each(function(){var g=$(this).data("zf2doctrineacclass"),e=$(this).data("zf2doctrineacselectwarningmessage"),h=$(this).data("zf2doctrineacproperty"),d=$(this).data("zf2doctrineacallowpersist"),k=$(this).data("zf2doctrineactargetclass");if(null!=g){$(this).data("zf2doctrineacinit",null);$(this).data("zf2doctrineacclass",null);$(this).data("zf2doctrineacproperty",null);$(this).wrap('<div class="wrap-zf2-doctrine-autocomplete"></div>');
var a=$(this).clone(!0);$(this).attr("name",$(this).attr("name")+"[id]").attr("type","hidden").addClass("zf2-doctrine-autocomplete-id");a.attr("name",a.attr("name")+"["+h+"]");$(this).data("zf2doctrineacid")&&($(this).val($(this).data("zf2doctrineacid")),$(this).data("zf2doctrineacid",null));$(this).parent().append(a);$(this).parent().append('<p class="zf2-doctrine-autocomplete-msg"></p>');var f={};$(a).autocomplete({minLength:2,source:function(b,c){var a=b.term;a in f?c(f[a]):(b.select_warning_message=
e,b.property=h,b.target_class=k,$.getJSON("/zf2-doctrine-autocomplete/"+g,b,function(b,d,e){f[a]=b;c(b)}))},change:function(b,a){null==a.item&&($(this).parent().find(".zf2-doctrine-autocomplete-id").val(""),d||($(this).val(""),$(this).parent().find(".zf2-doctrine-autocomplete-msg").html(e?e:"Select in list").addClass("bg-warning")))},select:function(a,c){$(this).parent().find(".zf2-doctrine-autocomplete-id").val("");$(this).parent().find(".zf2-doctrine-autocomplete-msg").html("").removeClass("bg-warning");
if(null!=c.item.value)return $(this).val(c.item.label),$(this).parent().find(".zf2-doctrine-autocomplete-id").val(c.item.value),!1}})}})}};$(document).ready(function(){if(!$.isFunction($.fn.autocomplete))return console.log("Required jQuery UI Autocomplete"),!1;zf2DoctrineAutocomplete.init("body")});
