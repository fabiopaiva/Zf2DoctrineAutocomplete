/*
 The MIT License (MIT) | Copyright (c) 2014 Fabio Felipe Paiva <paiva.fabiofelipe@gmail.com> | Copyright (c) 2015 Benjamin Bunse <b.bunse@pso-vertrieb.de>
*/
var zf2DoctrineAutocomplete={init:function(d){$(d).find("input[data-zf2doctrineacinit='zf2-doctrine-autocomplete']").each(function(){var e=$(this).data("zf2doctrineacclass"),g=$(this).data("zf2doctrineacselectwarningmessage"),d=$(this).data("zf2doctrineacproperty"),h=$(this).data("zf2doctrineacallowpersist");if(null!=e){$(this).data("zf2doctrineacinit",null);$(this).data("zf2doctrineacclass",null);$(this).data("zf2doctrineacproperty",null);$(this).wrap('<div class="wrap-zf2-doctrine-autocomplete"></div>');
var a=$(this).clone(!0);$(this).attr("name",$(this).attr("name")+"[id]").attr("type","hidden").addClass("zf2-doctrine-autocomplete-id");a.attr("name",a.attr("name")+"["+d+"]");$(this).data("zf2doctrineacid")&&($(this).val($(this).data("zf2doctrineacid")),$(this).data("zf2doctrineacid",null));$(this).parent().append(a);$(this).parent().append('<p class="zf2-doctrine-autocomplete-msg"></p>');var f={};$(a).autocomplete({minLength:2,source:function(c,b){var a=c.term;a in f?b(f[a]):(console.log("Request",
c),$.getJSON("/zf2-doctrine-autocomplete/"+e,c,function(c,d,e){f[a]=c;b(c)}))},change:function(a,b){null==b.item&&($(this).parent().find(".zf2-doctrine-autocomplete-id").val(""),h||($(this).val(""),$(this).parent().find(".zf2-doctrine-autocomplete-msg").html(g?g:"Select in list").addClass("bg-warning")))},select:function(a,b){$(this).parent().find(".zf2-doctrine-autocomplete-id").val("");$(this).parent().find(".zf2-doctrine-autocomplete-msg").html("").removeClass("bg-warning");if(null!=b.item.value)return $(this).val(b.item.label),
$(this).parent().find(".zf2-doctrine-autocomplete-id").val(b.item.value),!1}})}})}};$(document).ready(function(){if(!$.isFunction($.fn.autocomplete))return console.log("Required jQuery UI Autocomplete"),!1;zf2DoctrineAutocomplete.init("body")});
